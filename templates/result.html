<!DOCTYPE html>
<html lang="en">
  <head>
    <!--basic code-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>How think</title>

    <!--bootstrap css import-->
    <link href="../static/css/styles.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/css/styles2.css" rel="stylesheet" />
    <!-- icon-->
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js"
    integrity="sha512-sW/w8s4RWTdFFSduOTGtk4isV1+190E/GghVffMA9XczdJ2MDzSzLEubKAs5h0wzgSJOQTRYyaz73L3d6RtJSg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- chartjs -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
          let ChartOne = document.getElementById('ChartOne').getContext("2d");
          Feeling = document.querySelector("#ChartOne")
          let barChart = new Chart(ChartOne, {
            type : 'doughnut', // pie, line, doughnut, polarArea
            data : {
              labels : ['positive', 'neutral', 'negative'],
              datasets : [
                {
                  label : 'peoples think',
                  data:[Feeling.dataset.pos, Feeling.dataset.neu, Feeling.dataset.neg],
                  backgroundColor: [
                      '#FF5F00',
                      '#B20600',
                      '#00092C',
                    ],

              }]
          },
          options: {
                responsive: false,
                scales: {
                  yAxes: [{
                    ticks: {
                      beginAtZero: true
                    }
                  }]
                },
              }
          });
       } );
    </script>
  </head> 
    <body>
      <div class="contatiner">
        <h1 class="fst-italic">How people think about this topic</h1>
        <div class="row">
          <div class="col-2"></div>
          <div class="col-5">
            <br></br>
            <h3>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Sentiment Analysis</h3>
            {{searchInput}}
            {{sentimentData.sentiment}}
	    <canvas id="ChartOne" width="500" heigth="300" data-pos={{sentimentData.confidenceScores["positive"]}}
		    			data-neu={{sentimentData.confidenceScores["neutral"]}}
					data-neg={{sentimentData.confidenceScores["negative"]}} > </canvas>
	    <script>
	    </script>
            </div>
          <div class="col-5">
            <br></br>
            <h3>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Point keyword</h3>
              <!--wordcloude-->
              <img alt="wordcloud" src={{imgPath}}>
            </div>
          <div class="col-2"></div>
              {% for ts, value in keywordHistory.items() %}
                    <span>{{ ts }}</span>
                  {% for item in keywordHistory[ts]['keyword'] %}
                    <span>{{ item }}</span>
                  {% endfor %}
                  <span>{{ keywordHistory[ts]['prob'] }}</span>
              {% endfor %}
          </div>
          <div class ="row">
              <center>
                <br></br>
                <button class="btn btn-primary" onclick="history.back();">back</button >
                <br></br>
              </center>
          </div>
      </div>
    </body>
  </html>
